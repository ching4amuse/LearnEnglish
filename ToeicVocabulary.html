<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å–®å­—è¨˜æ†¶ç‰¹è¨“ç­ (Proç‰ˆ)</title>
<style>
    :root {
        --primary-color: #6a8caf;
        --bg-color: #f7f9fc;
        --card-height: 280px;
        --status-hard: #e53e3e;   /* ç´… */
        --status-medium: #d69e2e; /* é»ƒ */
        --status-easy: #38a169;   /* ç¶  */
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background-color: var(--bg-color);
        margin: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    /* --- Header --- */
    header {
        background-color: white;
        padding: 10px 15px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        z-index: 10;
        display: flex;
        flex-direction: column;
        gap: 10px;
        flex-shrink: 0;
    }

    .header-top {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    header h2 { margin: 0; color: var(--primary-color); font-size: 1.2rem; }
    
    .filter-bar {
        display: flex;
        gap: 10px;
    }

    select.mode-selector {
        padding: 8px;
        border-radius: 8px;
        border: 1px solid #cbd5e0;
        background-color: #f8fafc;
        font-size: 0.95rem;
        flex: 1;
    }

    /* --- Main Layout --- */
    .main-container {
        display: flex;
        flex: 1;
        overflow: hidden;
        height: 100%;
    }

    /* --- List Panel (Left) --- */
    .list-panel {
        width: 280px;
        background-color: white;
        border-right: 1px solid #e2e8f0;
        overflow-y: auto;
        padding: 10px;
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    .word-item {
        padding: 12px;
        border-radius: 6px;
        cursor: pointer;
        border-left: 3px solid transparent;
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #fff;
        border: 1px solid #edf2f7;
    }

    .word-item:hover { background-color: #f7fafc; }
    .word-item.active { background-color: #ebf8ff; border-left-color: var(--primary-color); border-color: #bee3f8; }

    /* åˆ—è¡¨ä¸­çš„ç‹€æ…‹å°åœ“é» */
    .status-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: #cbd5e0; /* é è¨­ç° */
        display: inline-block;
        margin-right: 8px;
    }
    .status-dot.hard { background-color: var(--status-hard); }
    .status-dot.medium { background-color: var(--status-medium); }
    .status-dot.easy { background-color: var(--status-easy); }

    /* --- Card Panel (Right) --- */
    .card-panel {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
        background-color: var(--bg-color);
        position: relative;
    }

    /* ç‹€æ…‹å›é¥‹æ¢ (åœ¨å¡ç‰‡ä¸Šæ–¹é¡¯ç¤ºç•¶å‰ç‹€æ…‹) */
    .status-feedback {
        margin-bottom: 10px;
        font-size: 0.9rem;
        font-weight: bold;
        color: #718096;
        height: 20px;
    }

    /* Flip Card */
    .flip-card {
        background-color: transparent;
        width: 100%;
        max-width: 380px;
        height: var(--card-height);
        perspective: 1000px;
        cursor: pointer;
        margin-bottom: 15px;
    }

    .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.5s;
        transform-style: preserve-3d;
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        border-radius: 16px;
    }

    .flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }

    .flip-card-front, .flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 16px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 20px;
        box-sizing: border-box;
    }

    .flip-card-front { background: linear-gradient(135deg, #6a8caf 0%, #5a7c9f 100%); color: white; }
    .flip-card-back { background-color: white; color: #2d3748; transform: rotateY(180deg); border: 1px solid #e2e8f0; }

    .main-word { font-size: 2rem; font-weight: 700; margin-bottom: 5px; }
    .meaning { font-size: 1.5rem; font-weight: 700; color: var(--primary-color); margin-bottom: 10px; }
    .sentence { font-size: 1rem; color: #666; font-style: italic; border-top: 1px solid #eee; padding-top: 15px; width: 100%; }

    /* --- Rating Buttons (è©•åˆ†æŒ‰éˆ•) --- */
    .rating-area {
        display: flex;
        gap: 10px;
        width: 100%;
        max-width: 380px;
        margin-bottom: 15px;
    }

    .rate-btn {
        flex: 1;
        border: none;
        padding: 12px 5px;
        border-radius: 12px;
        font-weight: bold;
        color: white;
        cursor: pointer;
        transition: transform 0.1s;
        font-size: 0.9rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .rate-btn:active { transform: scale(0.95); }
    
    .btn-hard { background-color: var(--status-hard); }
    .btn-medium { background-color: var(--status-medium); }
    .btn-easy { background-color: var(--status-easy); }

    /* Navigation Buttons */
    .nav-buttons {
        display: flex;
        gap: 20px;
        width: 100%;
        max-width: 380px;
    }
    .nav-btn {
        flex: 1;
        background: white;
        border: 1px solid #cbd5e0;
        padding: 10px;
        border-radius: 30px;
        cursor: pointer;
    }

    /* RWD */
    @media (max-width: 768px) {
        .main-container { flex-direction: column; }
        .card-panel { order: 1; padding: 10px; border-bottom: 1px solid #ddd; flex: 0 0 auto; }
        .list-panel { order: 2; width: 100%; flex: 1; }
        .flip-card { height: 240px; }
    }
</style>
</head>
<body>

<header>
    <div class="header-top">
        <h2>å–®å­—ç‰¹è¨“ Pro</h2>
        <div style="font-size:0.9rem; color:#666;" id="progressText">0/0</div>
    </div>
    <div class="filter-bar">
        <select class="mode-selector" id="modeSelect" onchange="changeMode()">
            <option value="All">ğŸ“š å…¨éƒ¨å–®å­—</option>
            <option value="Day 01">ğŸ“± Day 01ï¼šæ±‚è·ç¯‡</option>
            <option value="Day 02">ğŸ¢ Day 02ï¼šè¦çŸ©ç¯‡</option>
            <option disabled>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</option>
            <option value="Review-Hard">ğŸ”´ åªè¤‡ç¿’ã€Œä¸ç†Ÿã€çš„å­—</option>
            <option value="Review-Medium">ğŸŸ¡ åªè¤‡ç¿’ã€Œæ™®é€šã€çš„å­—</option>
            <option value="Review-Review">ğŸ”¥ è¤‡ç¿’ã€Œä¸ç†Ÿ + æ™®é€šã€</option>
        </select>
        <button onclick="resetProgress()" style="padding:0 10px; border:1px solid #ccc; border-radius:8px; background:#fff;">é‡ç½®</button>
    </div>
</header>

<div class="main-container">
    <div class="list-panel" id="wordList"></div>

    <div class="card-panel">
        <div class="status-feedback" id="statusFeedback"></div>
        
        <div class="flip-card" id="flashcard" onclick="toggleFlip()">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <div class="main-word" id="cardWord">Word</div>
                    <div style="opacity:0.8" id="cardPos">n.</div>
                    <div style="font-size:0.8rem; margin-top:20px; opacity:0.6;">é»æ“Šç¿»é¢</div>
                </div>
                <div class="flip-card-back">
                    <div class="meaning" id="cardMeaning">æ„æ€</div>
                    <div class="sentence" id="cardSentence">ä¾‹å¥</div>
                </div>
            </div>
        </div>

        <div class="rating-area">
            <button class="rate-btn btn-hard" onclick="markStatus('hard')">ğŸ”´ ä¸ç†Ÿ</button>
            <button class="rate-btn btn-medium" onclick="markStatus('medium')">ğŸŸ¡ æ™®é€š</button>
            <button class="rate-btn btn-easy" onclick="markStatus('easy')">ğŸŸ¢ ç†Ÿæ‚‰</button>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn" onclick="changeCard(-1)">â† ä¸Šä¸€å€‹</button>
            <button class="nav-btn" onclick="changeCard(1)">ä¸‹ä¸€å€‹ â†’</button>
        </div>
    </div>
</div>

<script>
    // ================= DATA =================
    const fullVocabData = [
        // --- Day 01 ---
        { tag: "Day 01", word: "Resume", pos: "n.", meaning: "å±¥æ­·è¡¨", sentence: "Submit a resume to apply for the job." },
        { tag: "Day 01", word: "Opening", pos: "n.", meaning: "è·ç¼ºã€ç©ºç¼º", sentence: "There are several job openings now." },
        { tag: "Day 01", word: "Applicant", pos: "n.", meaning: "ç”³è«‹äºº", sentence: "Applicants are required to provide ID." },
        { tag: "Day 01", word: "Requirement", pos: "n.", meaning: "å¿…è¦æ¢ä»¶", sentence: "You must meet all the requirements." },
        { tag: "Day 01", word: "Meet", pos: "v.", meaning: "æ»¿è¶³ã€ç¬¦åˆ", sentence: "Does your skill set meet the needs?" },
        { tag: "Day 01", word: "Qualified", pos: "adj.", meaning: "æœ‰è³‡æ ¼çš„", sentence: "She is highly qualified for the position." },
        { tag: "Day 01", word: "Candidate", pos: "n.", meaning: "å€™é¸äºº", sentence: "We selected three candidates." },
        { tag: "Day 01", word: "Confidence", pos: "n.", meaning: "ä¿¡å¿ƒ", sentence: "Show confidence during the interview." },
        { tag: "Day 01", word: "Highly", pos: "adv.", meaning: "å¾ˆã€éå¸¸", sentence: "He is a highly respected manager." },
        { tag: "Day 01", word: "Professional", pos: "adj.", meaning: "å°ˆæ¥­çš„", sentence: "Please wear professional attire." },
        { tag: "Day 01", word: "Interview", pos: "n./v.", meaning: "é¢è©¦", sentence: "We will hold interviews next week." },
        { tag: "Day 01", word: "Hire", pos: "v.", meaning: "é›‡ç”¨", sentence: "They plan to hire new employees." },
        { tag: "Day 01", word: "Training", pos: "n.", meaning: "è¨“ç·´", sentence: "The company provides on-the-job training." },
        { tag: "Day 01", word: "Reference", pos: "n.", meaning: "æ¨è–¦ä¿¡ã€åƒè€ƒ", sentence: "Please attach a reference letter." },
        { tag: "Day 01", word: "Position", pos: "n.", meaning: "è·ä½", sentence: "I applied for the advertised position." },
        { tag: "Day 01", word: "Achievement", pos: "n.", meaning: "æˆå°±", sentence: "List your achievements on the resume." },
        { tag: "Day 01", word: "Impressed", pos: "adj.", meaning: "å°è±¡æ·±åˆ»çš„", sentence: "I was impressed by his skills." },
        { tag: "Day 01", word: "Excellent", pos: "adj.", meaning: "å„ªç§€çš„", sentence: "She has excellent managerial skills." },
        { tag: "Day 01", word: "Eligible", pos: "adj.", meaning: "æœ‰è³‡æ ¼çš„", sentence: "Who is eligible for the bonus?" },
        { tag: "Day 01", word: "Identify", pos: "v.", meaning: "è­˜åˆ¥ã€èªå‡º", sentence: "The badge makes you easy to identify." },
        { tag: "Day 01", word: "Associate", pos: "v.", meaning: "ä½¿æœ‰é—œè¯", sentence: "The brand is associated with quality." },
        { tag: "Day 01", word: "Condition", pos: "n.", meaning: "æ¢ä»¶", sentence: "Terms and conditions of employment." },
        { tag: "Day 01", word: "Employment", pos: "n.", meaning: "é›‡ç”¨", sentence: "Looking for employment opportunities." },
        { tag: "Day 01", word: "Lack", pos: "v./n.", meaning: "ç¼ºä¹", sentence: "He lacks the necessary experience." },
        { tag: "Day 01", word: "Managerial", pos: "adj.", meaning: "ç®¡ç†çš„", sentence: "He is seeking a managerial position." },
        { tag: "Day 01", word: "Diligent", pos: "adj.", meaning: "å‹¤å‹‰çš„", sentence: "Diligent workers are rewarded." },
        { tag: "Day 01", word: "Familiar", pos: "adj.", meaning: "ç†Ÿæ‚‰çš„", sentence: "Become familiar with the rules." },
        { tag: "Day 01", word: "Proficiency", pos: "n.", meaning: "ç²¾é€š", sentence: "Show proof of proficiency in English." },
        { tag: "Day 01", word: "Prospective", pos: "adj.", meaning: "é æœŸçš„", sentence: "Meeting with prospective clients." },
        { tag: "Day 01", word: "Appeal", pos: "v.", meaning: "å¸å¼•", sentence: "The offer appeals to the staff." },
        { tag: "Day 01", word: "Specialize", pos: "v.", meaning: "å°ˆæ”»", sentence: "We specialize in web design." },
        { tag: "Day 01", word: "Apprehensive", pos: "adj.", meaning: "æ†‚æ…®çš„", sentence: "I feel apprehensive about the test." },
        { tag: "Day 01", word: "Consultant", pos: "n.", meaning: "é¡§å•", sentence: "We hired a design consultant." },
        { tag: "Day 01", word: "Entitle", pos: "v.", meaning: "çµ¦...æ¬Šåˆ©", sentence: "You are entitled to a refund." },
        { tag: "Day 01", word: "Degree", pos: "n.", meaning: "å­¸ä½", sentence: "He has a bachelor's degree." },
        { tag: "Day 01", word: "Payroll", pos: "n.", meaning: "è–ªæ°´å¸³å†Š", sentence: "You are now on the payroll." },
        { tag: "Day 01", word: "Recruit", pos: "v.", meaning: "æ‹›å‹Ÿ", sentence: "They recruit promising graduates." },
        { tag: "Day 01", word: "Certification", pos: "n.", meaning: "è­‰ç…§", sentence: "Obtain certification before working." },
        { tag: "Day 01", word: "Occupation", pos: "n.", meaning: "è·æ¥­", sentence: "It is a challenging occupation." },
        { tag: "Day 01", word: "Wage", pos: "n.", meaning: "å·¥è³‡", sentence: "Workers want to earn higher wages." },
        // --- Day 02 ---
        { tag: "Day 02", word: "Attire", pos: "n.", meaning: "æœè£", sentence: "Wear professional business attire." },
        { tag: "Day 02", word: "Code", pos: "n.", meaning: "è¦ç¯„", sentence: "Follow the company dress code." },
        { tag: "Day 02", word: "Concern", pos: "n.", meaning: "æ“”æ†‚", sentence: "Voice your concerns to the manager." },
        { tag: "Day 02", word: "Policy", pos: "n.", meaning: "æ”¿ç­–", sentence: "Read the insurance policy carefully." },
        { tag: "Day 02", word: "Comply", pos: "v.", meaning: "éµå®ˆ", sentence: "You must comply with the rules." },
        { tag: "Day 02", word: "Regulation", pos: "n.", meaning: "è¦å®š", sentence: "Safety regulations are strict here." },
        { tag: "Day 02", word: "Exception", pos: "n.", meaning: "ä¾‹å¤–", sentence: "We cannot make exceptions for anyone." },
        { tag: "Day 02", word: "Adhere", pos: "v.", meaning: "éµå®ˆ", sentence: "Adhere to the safety guidelines." },
        { tag: "Day 02", word: "Severely", pos: "adv.", meaning: "åš´æ ¼åœ°", sentence: "Violators will be severely punished." },
        { tag: "Day 02", word: "Refrain", pos: "v.", meaning: "å…‹åˆ¶", sentence: "Please refrain from smoking here." },
        { tag: "Day 02", word: "Permission", pos: "n.", meaning: "è¨±å¯", sentence: "Get permission before leaving early." },
        { tag: "Day 02", word: "Access", pos: "n.", meaning: "é€²å…¥æ¬Š", sentence: "Only staff can gain access to the lab." },
        { tag: "Day 02", word: "Thoroughly", pos: "adv.", meaning: "å¾¹åº•åœ°", sentence: "Read the contract thoroughly." },
        { tag: "Day 02", word: "Revise", pos: "v.", meaning: "ä¿®è¨‚", sentence: "The policies have been revised." },
        { tag: "Day 02", word: "Approach", pos: "n.", meaning: "æ–¹æ³•", sentence: "We take a strict approach to safety." },
        { tag: "Day 02", word: "Approval", pos: "n.", meaning: "æ‰¹å‡†", sentence: "Obtain approval from your boss." },
        { tag: "Day 02", word: "Form", pos: "n.", meaning: "å½¢å¼", sentence: "A driver's license is a form of ID." },
        { tag: "Day 02", word: "Immediately", pos: "adv.", meaning: "ç«‹å³", sentence: "The rule is effective immediately." },
        { tag: "Day 02", word: "Inspection", pos: "n.", meaning: "æª¢æŸ¥", sentence: "Conduct a safety inspection." },
        { tag: "Day 02", word: "Arrangement", pos: "n.", meaning: "å®‰æ’", sentence: "Make arrangements for the meeting." },
        { tag: "Day 02", word: "Procedure", pos: "n.", meaning: "ç¨‹åº", sentence: "Follow the standard procedure." },
        { tag: "Day 02", word: "Negative", pos: "adj.", meaning: "è² é¢çš„", sentence: "Avoid negative feedback." },
        { tag: "Day 02", word: "Mandate", pos: "v.", meaning: "å‘½ä»¤ã€æˆæ¬Š", sentence: "The law mandates equal pay." },
        { tag: "Day 02", word: "Effect", pos: "n.", meaning: "æ•ˆåŠ›", sentence: "The law is currently in effect." },
        { tag: "Day 02", word: "Drastically", pos: "adv.", meaning: "å¤§å¹…åœ°", sentence: "Prices increased drastically." },
        { tag: "Day 02", word: "According to", pos: "phr.", meaning: "æ ¹æ“š", sentence: "According to the new guidelines..." },
        { tag: "Day 02", word: "Enable", pos: "v.", meaning: "ä½¿...èƒ½å¤ ", sentence: "This tool enables us to work faster." },
        { tag: "Day 02", word: "Standard", pos: "n.", meaning: "æ¨™æº–", sentence: "We meet high safety standards." },
        { tag: "Day 02", word: "Constant", pos: "adj.", meaning: "æŒçºŒçš„", sentence: "Constant noise can be annoying." },
        { tag: "Day 02", word: "Act", pos: "n.", meaning: "æ³•æ¡ˆ", sentence: "Congress passed the new act." },
        { tag: "Day 02", word: "Compensation", pos: "n.", meaning: "å ±é…¬", sentence: "Receive fair compensation for work." },
        { tag: "Day 02", word: "Ban", pos: "n./v.", meaning: "ç¦æ­¢", sentence: "They placed a ban on cellphones." },
        { tag: "Day 02", word: "Obligation", pos: "n.", meaning: "ç¾©å‹™", sentence: "We have an obligation to pay tax." },
        { tag: "Day 02", word: "Authorize", pos: "v.", meaning: "æˆæ¬Š", sentence: "The payment was authorized." },
        { tag: "Day 02", word: "Prohibit", pos: "v.", meaning: "ç¦æ­¢", sentence: "Smoking is prohibited here." },
        { tag: "Day 02", word: "Abolish", pos: "v.", meaning: "å»¢é™¤", sentence: "The old rule was abolished." },
        { tag: "Day 02", word: "Enforce", pos: "v.", meaning: "åŸ·è¡Œ", sentence: "Police enforce the traffic laws." },
        { tag: "Day 02", word: "Habit", pos: "n.", meaning: "ç¿’æ…£", sentence: "Make punctuality a regular habit." },
        { tag: "Day 02", word: "Legislation", pos: "n.", meaning: "ç«‹æ³•", sentence: "Support the new legislation." },
        { tag: "Day 02", word: "Restrict", pos: "v.", meaning: "é™åˆ¶", sentence: "Access is restricted to staff only." }
    ];

    // ================= STATE =================
    let currentData = [];
    let currentIndex = 0;
    // å¾ LocalStorage è®€å–ç´€éŒ„ï¼Œå¦‚æœæ²’æœ‰å‰‡å»ºç«‹ç©ºç‰©ä»¶
    let progressStore = JSON.parse(localStorage.getItem('vocabProgress')) || {};

    // ================= UI ELEMENTS =================
    const wordListEl = document.getElementById('wordList');
    const flashcardEl = document.getElementById('flashcard');
    const progressText = document.getElementById('progressText');
    const statusFeedback = document.getElementById('statusFeedback');
    const modeSelect = document.getElementById('modeSelect');
    const prevBtn = document.querySelector('.nav-btn:first-child');
    const nextBtn = document.querySelector('.nav-btn:last-child');

    // ================= INIT =================
    function init() {
        changeMode(); // è¼‰å…¥é è¨­è³‡æ–™
        // éµç›¤ç›£è½
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') changeCard(-1);
            if (e.key === 'ArrowRight') changeCard(1);
            if (e.key === ' ' || e.key === 'Enter') toggleFlip();
        });
    }

    // ================= LOGIC =================

    // å„²å­˜ç‹€æ…‹
    function markStatus(status) {
        if (currentData.length === 0) return;
        const word = currentData[currentIndex].word;
        
        // æ›´æ–°è¨˜æ†¶é«”
        progressStore[word] = status;
        
        // å¯«å…¥ç¡¬ç¢Ÿ (localStorage)
        localStorage.setItem('vocabProgress', JSON.stringify(progressStore));
        
        // UI æ›´æ–°
        renderList(); // æ›´æ–°åˆ—è¡¨çš„é¡è‰²é»
        updateStatusFeedback(status);
        
        // è‡ªå‹•è·³ä¸‹ä¸€é¡Œ (å¯é¸ï¼Œé€™è£¡è¨­ç‚ºå»¶é² 0.3ç§’è·³è½‰)
        setTimeout(() => {
            changeCard(1);
        }, 300);
    }

    // é‡ç½®é€²åº¦
    function resetProgress() {
        if(confirm("ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰å­¸ç¿’ç´€éŒ„å—ï¼Ÿ")) {
            progressStore = {};
            localStorage.removeItem('vocabProgress');
            renderList();
            updateStatusFeedback(null);
            alert("å·²é‡ç½®ï¼");
        }
    }

    // åˆ‡æ›æ¨¡å¼ (ç¯©é¸é‚è¼¯)
    function changeMode() {
        const mode = modeSelect.value;
        const all = fullVocabData;

        if (mode === 'All') {
            currentData = all;
        } else if (mode === 'Day 01') {
            currentData = all.filter(item => item.tag === 'Day 01');
        } else if (mode === 'Day 02') {
            currentData = all.filter(item => item.tag === 'Day 02');
        } else if (mode === 'Review-Hard') {
            currentData = all.filter(item => progressStore[item.word] === 'hard');
        } else if (mode === 'Review-Medium') {
            currentData = all.filter(item => progressStore[item.word] === 'medium');
        } else if (mode === 'Review-Review') {
            currentData = all.filter(item => 
                progressStore[item.word] === 'hard' || progressStore[item.word] === 'medium'
            );
        }

        if (currentData.length === 0) {
            alert("ç›®å‰æ²’æœ‰ç¬¦åˆé€™å€‹åˆ†é¡çš„å–®å­—å–”ï¼(ä¾‹å¦‚ï¼šä½ é‚„æ²’æœ‰æ¨™è¨˜ä»»ä½•ã€ä¸ç†Ÿã€çš„å–®å­—)");
            // å¦‚æœæ²’è³‡æ–™ï¼Œåˆ‡å›å…¨éƒ¨ï¼Œé¿å…å£æ‰
            modeSelect.value = 'All';
            currentData = all;
        }

        currentIndex = 0;
        renderList();
        loadCard(0);
    }

    // æ¸²æŸ“å·¦å´æ¸…å–®
    function renderList() {
        wordListEl.innerHTML = '';
        currentData.forEach((item, index) => {
            const status = progressStore[item.word]; // è®€å–è©²å­—çš„ç‹€æ…‹
            let dotClass = '';
            if (status === 'hard') dotClass = 'hard';
            else if (status === 'medium') dotClass = 'medium';
            else if (status === 'easy') dotClass = 'easy';

            const div = document.createElement('div');
            div.className = `word-item ${index === currentIndex ? 'active' : ''}`;
            div.onclick = () => loadCard(index);
            
            // çµ„åˆ HTMLï¼šåœ“é» + å–®å­—
            div.innerHTML = `
                <div style="display:flex; align-items:center;">
                    <span class="status-dot ${dotClass}"></span>
                    <span>${index + 1}. ${item.word}</span>
                </div>
            `;
            wordListEl.appendChild(div);
        });
        scrollToActive();
    }

    // è¼‰å…¥å¡ç‰‡
    function loadCard(index) {
        if (currentData.length === 0) return;
        
        // å¾ªç’°æˆ–é‚Šç•Œæª¢æŸ¥
        if (index < 0) index = 0;
        if (index >= currentData.length) index = currentData.length - 1; // åœåœ¨æœ€å¾Œä¸€å¼µ
        // å¦‚æœæƒ³è¦å¾ªç’°ï¼š if (index >= currentData.length) index = 0;

        currentIndex = index;
        const item = currentData[index];
        
        document.getElementById('cardWord').innerText = item.word;
        document.getElementById('cardPos').innerText = item.pos;
        document.getElementById('cardMeaning').innerText = item.meaning;
        document.getElementById('cardSentence').innerText = `"${item.sentence}"`;
        progressText.innerText = `${currentIndex + 1} / ${currentData.length}`;

        flashcardEl.classList.remove('flipped');
        
        // æ›´æ–°ç•¶å‰å¡ç‰‡çš„ç‹€æ…‹é¡¯ç¤º
        updateStatusFeedback(progressStore[item.word]);

        // Highlight List Item
        const items = document.querySelectorAll('.word-item');
        items.forEach(el => el.classList.remove('active'));
        if (items[currentIndex]) items[currentIndex].classList.add('active');
        
        scrollToActive();
    }

    function updateStatusFeedback(status) {
        if (status === 'hard') {
            statusFeedback.innerHTML = "<span style='color:var(--status-hard)'>ğŸ”´ éœ€åŠ å¼· (Hard)</span>";
        } else if (status === 'medium') {
            statusFeedback.innerHTML = "<span style='color:var(--status-medium)'>ğŸŸ¡ æ™®é€š (Medium)</span>";
        } else if (status === 'easy') {
            statusFeedback.innerHTML = "<span style='color:var(--status-easy)'>ğŸŸ¢ å·²ç†Ÿæ‚‰ (Easy)</span>";
        } else {
            statusFeedback.innerHTML = "å°šæœªè©•åˆ†";
        }
    }

    function scrollToActive() {
        const activeItem = document.querySelector('.word-item.active');
        if (activeItem) {
            activeItem.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
    }

    function changeCard(direction) {
        loadCard(currentIndex + direction);
    }

    function toggleFlip() {
        flashcardEl.classList.toggle('flipped');
    }

    // Start
    init();
</script>

</body>
</html>
